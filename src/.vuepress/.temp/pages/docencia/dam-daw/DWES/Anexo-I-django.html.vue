<template><div><h1 id="üêç-anexo-i-entornos-virtuales-en-python" tabindex="-1"><a class="header-anchor" href="#üêç-anexo-i-entornos-virtuales-en-python"><span>üêç Anexo I: Entornos Virtuales en Python</span></a></h1>
<h2 id="_1-entornos-virtuales-en-python" tabindex="-1"><a class="header-anchor" href="#_1-entornos-virtuales-en-python"><span>1. Entornos Virtuales en Python</span></a></h2>
<p>En las aplicaciones basadas en Python es frecuente utilizar paquetes y m√≥dulos que no forman parte de la librer√≠a est√°ndar.<br>
Muchas veces, determinadas aplicaciones necesitan de determinadas versiones de librer√≠as espec√≠ficas, y esto implica que la instalaci√≥n local de Python puede no llegar a cumplir las especificaciones de todas las aplicaciones.</p>
<p>La soluci√≥n a este problema son los <strong>entornos virtuales</strong>: se trata de un √°rbol ‚Äúaut√≥nomo‚Äù de directorios que contiene una instalaci√≥n de Python, para una determinada versi√≥n y con una serie de paquetes adicionales.</p>
<p>De esta forma, diferentes aplicaciones pueden utilizar diferentes entornos virtuales, dependiendo de la versi√≥n, tanto de Python, como de los paquetes adicionales para que la aplicaci√≥n funcione correctamente.</p>
<p>La siguiente imagen ilustra un mismo equipo en el que existen diferentes entornos virtuales, con diferentes versiones de Python, para proyectos diferentes:</p>
<figure><img src="@source/docencia/dam-daw/DWES/#" alt="ToDo - incluir imagen" tabindex="0" loading="lazy"><figcaption>ToDo - incluir imagen</figcaption></figure>
<h3 id="creacion-de-un-entorno-virtual" tabindex="-1"><a class="header-anchor" href="#creacion-de-un-entorno-virtual"><span>Creaci√≥n de un entorno virtual</span></a></h3>
<p>El m√≥dulo utilizado para la creaci√≥n de entornos virtuales es <strong>venv</strong>.<br>
Para instalarlo en Ubuntu, el comando es:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> python3-venv</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>El comando para crear un entorno virtual en un directorio determinado es:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">python3</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> venv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> app-env</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Este comando crear√° el directorio <code v-pre>app-env</code> con un √°rbol de directorios que contienen el int√©rprete de Python y archivos de soporte.<br>
El par√°metro <code v-pre>-m</code> indica al int√©rprete de Python que se va a ejecutar un m√≥dulo, en este caso <code v-pre>venv</code>, como un script.</p>
<blockquote>
<p>Si quieres saber m√°s sobre los m√≥dulos en Python, aqu√≠ tienes m√°s informaci√≥n.</p>
</blockquote>
<p>Para activar el entorno virtual de Python, se utilizar√° uno de los siguientes comandos, dependiendo del sistema operativo (desde la ruta en la que se encuentre la carpeta <code v-pre>app-env</code>):</p>
<p><strong>En Linux o MacOS:</strong></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> app-env/bin/activate</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Tras ejecutar este comando, sabremos que estamos utilizando el entorno virtual porque la l√≠nea de comandos pasar√° a tener el nombre del entorno virtual entre par√©ntesis:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">app-env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">usuario:$</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2 id="_2-gestion-de-paquetes-mediante-pip" tabindex="-1"><a class="header-anchor" href="#_2-gestion-de-paquetes-mediante-pip"><span>2. Gesti√≥n de paquetes mediante pip</span></a></h2>
<p>Se pueden instalar, actualizar o quitar paquetes utilizando el programa <strong>pip</strong>, que instala paquetes, por defecto, del √≠ndice de Paquetes de Python <a href="https://pypi.org" target="_blank" rel="noopener noreferrer">PyPI</a>, que puede ser explorado manualmente mediante un navegador web.</p>
<p><code v-pre>pip</code> tiene una serie de comandos (<code v-pre>install</code>, <code v-pre>freeze</code>, <code v-pre>uninstall</code>, etc.), que pueden ser consultados en la <a href="https://pip.pypa.io" target="_blank" rel="noopener noreferrer">documentaci√≥n oficial</a>.</p>
<h3 id="instalacion-de-paquetes" tabindex="-1"><a class="header-anchor" href="#instalacion-de-paquetes"><span>Instalaci√≥n de paquetes</span></a></h3>
<p>Instalar la √∫ltima versi√≥n de un paquete:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">app-env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> flask</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Instalar una versi√≥n espec√≠fica:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">app-env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> requests==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">2.6.0</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Actualizar un paquete existente:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">app-env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> --upgrade</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> requests</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Eliminar un paquete:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> uninstall</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &#x3C;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">nombre_paquet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">e></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Mostrar informaci√≥n de un paquete:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &#x3C;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">nombre_paquet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">e></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Listar todos los paquetes instalados:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> list</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Generar lista de dependencias instaladas (en formato instalable):</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">app-env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> freeze</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> > </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">requirements.txt</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Instalar dependencias desde <code v-pre>requirements.txt</code>:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">app-env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -r</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> requirements.txt</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2 id="_3-creacion-del-primer-proyecto-django" tabindex="-1"><a class="header-anchor" href="#_3-creacion-del-primer-proyecto-django"><span>3. Creaci√≥n del primer proyecto Django</span></a></h2>
<p>Vamos a crear nuestro primer proyecto con Django.</p>
<p>Creamos un primer entorno virtual llamado <code v-pre>portfolio-venv</code> en una carpeta de nuestra elecci√≥n, donde lanzamos el siguiente comando mediante consola:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">python3</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> venv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> portfolio-env</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>A continuaci√≥n, lo activamos:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> portfolio-env/bin/activate</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Sabemos que est√° activo porque al comienzo de la l√≠nea de comandos se muestra el nombre del entorno virtual entre par√©ntesis.</p>
<p>Antes de ejecutar la instalaci√≥n de Django, vamos a averiguar cu√°l es la <strong>√∫ltima versi√≥n LTS (Long-term Support)</strong>, que es la que nos va a proporcionar mayor duraci√≥n en el soporte (con otras ventajas).</p>
<p>Consultamos el siguiente enlace y vemos que la m√°s reciente es la <strong>5.2</strong> y adem√°s es <strong>LTS</strong>, con lo cual es la candidata ideal para nuestro nuevo proyecto.</p>
<p>Aun as√≠, hay que valorar tambi√©n que la <strong>4.2 (tambi√©n LTS)</strong> va a tener soporte hasta marzo de 2026.</p>
<figure><img src="@source/docencia/dam-daw/DWES/#" alt="ToDo - incluir imagen de versiones Django" tabindex="0" loading="lazy"><figcaption>ToDo - incluir imagen de versiones Django</figcaption></figure>
<p>La ventaja de elegir la √∫ltima versi√≥n va a ser que tendremos acceso a las √∫ltimas funcionalidades;<br>
las desventajas son que puede haber m√°s errores (bugs) o incompatibilidades con otros paquetes.</p>
<p>Elegimos instalar la <strong>√∫ltima LTS (5.2)</strong>:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Django==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">5.2</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Creamos el fichero de dependencias:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> freeze</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> > </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">requirements.txt</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Creamos el primer proyecto Django:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">django-admin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> startproject</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> portfolioDjango</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Al hacerlo, se crea una carpeta <code v-pre>portfolioDjango</code> con la estructura base del proyecto:</p>
<figure><img src="@source/docencia/dam-daw/DWES/#" alt="ToDo - incluir imagen estructura proyecto Django" tabindex="0" loading="lazy"><figcaption>ToDo - incluir imagen estructura proyecto Django</figcaption></figure>
<p>Lanzamos la aplicaci√≥n:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code" v-pre=""><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> manage.py</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> runserver</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>El servidor se lanza por defecto en el <strong>puerto 8000</strong>, y al acceder desde el navegador veremos la p√°gina de bienvenida de Django.</p>
<!--

## Portfolio con Django

Continuamos donde lo dejamos en el apartado anterior, y vamos a construir un portfolio.

### Configuraci√≥n

El fichero m√°s importante al iniciar un proyecto es `settings.py`, que contiene la configuraci√≥n principal.
Algunas variables destacadas son:

* **SECRET_KEY**
* **DEBUG**
* **ALLOWED_HOSTS**
* **INSTALLED_APPS**
* **TEMPLATES**
* **DATABASES**
* **LANGUAGE_CODE**
* **TIME_ZONE**
* **STATIC_URL / STATIC_ROOT**

Configuraci√≥n recomendada:

```python
LANGUAGE_CODE = 'es'
TIME_ZONE = 'Europe/Madrid'
STATIC_URL = '/static/'
STATIC_ROOT = os.path.join(BASE_DIR, 'static')
```

Adem√°s, modificamos la variable `TEMPLATES` para especificar la carpeta donde estar√°n nuestras plantillas:

```python
'DIRS': [os.path.join(BASE_DIR, 'templates')],
```

Y a√±adimos al principio del fichero:

```python
import os
```

---

## Aplicaciones en Django

* **Proyecto**: conjunto completo de la aplicaci√≥n web (directorio ra√≠z donde est√° `manage.py`).
* **Aplicaciones (apps)**: m√≥dulos Python independientes que proporcionan una funcionalidad concreta.

Ejemplo de las apps incluidas por defecto:

```python
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]
```

Creamos nuestra app `portfolioapp`:

```bash
python manage.py startapp portfolioapp
```

Y la a√±adimos a `INSTALLED_APPS`:

```python
'portfolioapp',
```

---

## Modelos

Los modelos se definen en `models.py` dentro de cada aplicaci√≥n.
Cada modelo representa una tabla en la base de datos.

Ejemplo de creaci√≥n de migraciones:

```bash
python manage.py makemigrations portfolioapp
python manage.py migrate portfolioapp
```

Para aplicar todas las migraciones pendientes:

```bash
python manage.py migrate
```

---

## ImageField

Configuramos `settings.py` para almacenar im√°genes:

```python
MEDIA_ROOT = os.path.join(BASE_DIR, 'media/')
MEDIA_URL = '/media/'
```

Y modificamos `urls.py`:

```python
from django.conf import settings
from django.conf.urls.static import static

if settings.DEBUG:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
```

Instalamos Pillow:

```bash
pip install Pillow
```

Congelamos dependencias:

```bash
pip freeze > requirements.txt
```

---

## Administrador de Django

Configuramos `admin.py` para registrar nuestros modelos.

Creamos el superusuario:

```bash
python manage.py createsuperuser
```

Y accedemos al panel en:

```
http://localhost:8000/admin
```

---

## Plantillas en Django

Django usa **DTL (Django Template Language)** para generar HTML din√°mico.
La jerarqu√≠a de plantillas permite heredar estructuras comunes.

Estructura de ejemplo:

```
templates/
‚îî‚îÄ‚îÄ portfolio/
    ‚îú‚îÄ‚îÄ base.html
    ‚îú‚îÄ‚îÄ home.html
    ‚îú‚îÄ‚îÄ proyecto.html
    ‚îú‚îÄ‚îÄ contacto.html
```

---

## Ficheros est√°ticos

Para recolectar los archivos est√°ticos:

```bash
python manage.py collectstatic
```

Cargar y usar est√°ticos en plantillas:

```django
{% load static %}
<img src="{% static 'my_app/example.jpg' %}" alt="My image">
```

![ToDo - incluir imagen ficheros est√°ticos](#)

---

## Plantillas de error

Crear plantillas con nombres como:

```
templates/
‚îú‚îÄ‚îÄ 404.html
‚îú‚îÄ‚îÄ 500.html
```

> ‚ö†Ô∏è Estas p√°ginas se mostrar√°n solo cuando `DEBUG = False`.

---

## Vistas

Las **vistas** implementan la l√≥gica de negocio.
Pueden ser:

* **FBV (Function Based Views)**
* **CBV (Class Based Views)**

Ambas devuelven una respuesta HTTP a partir de una petici√≥n.

---

## URLs

Las URLs son el punto de entrada a la l√≥gica del proyecto.
Se definen en `urls.py` con una estructura como:

```python
from django.urls import path
from portfolioapp import views

urlpatterns = [
    path('', views.home_view, name='home'),
]
```

---

## P√°ginas de la aplicaci√≥n

Desarrollaremos las siguientes vistas:

* **Home** ‚Äì listado de proyectos
* **Proyecto** ‚Äì detalle de un proyecto
* **Contacto** ‚Äì p√°gina informativa
* **Filtrado por categor√≠a**
* **Desplegable de categor√≠as (inclusion tags)**

Cada una tendr√° su **vista**, **template** y **URL**.

![ToDo - incluir capturas de cada p√°gina](#)

---

## Home

Ejemplo de vista FBV:

```python
def home_view(request):
    proyectos = Proyecto.objects.all()
    context = {'proyectos': proyectos}
    return render(request, 'portfolio/home.html', context)
```

Vista CBV equivalente:

```python
class HomeView(TemplateView):
    template_name = 'portfolio/home.html'

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['proyectos'] = Proyecto.objects.all()
        return context
```

---

## Proyecto

Vista FBV:

```python
def proyecto_view(request, pk):
    proyecto = Proyecto.objects.get(pk=pk)
    context = {'proyecto': proyecto}
    return render(request, 'portfolio/proyecto.html', context)
```

Vista CBV:

```python
class ProyectoView(TemplateView):
    template_name = 'portfolio/proyecto.html'

    def get_context_data(self, *args, **kwargs):
        context = super().get_context_data(**kwargs)
        context['proyecto'] = Proyecto.objects.get(id=kwargs['pk'])
        return context
```

URL:

```python
path('proyecto_cbv/<int:pk>/', views.ProyectoView.as_view(), name='proyecto'),
```

Enlace desde la plantilla:

```django
<a href="{% url 'proyecto' pk=proyecto.id %}" class="p-5">
```

---

## Contacto

Vista FBV:

```python
def contacto_view(request):
    context = {}
    return render(request, 'portfolio/contacto.html', context)
```

Vista CBV:

```python
class ContactoView(TemplateView):
    template_name = 'portfolio/contacto.html'
```

URL:

```python
path('contacto/', views.ContactoView.as_view(), name='contacto'),
```

> üí° Actividad: pasa tu nombre y apellidos como contexto y mu√©stralos en la plantilla.

---

## Filtrado por categor√≠a

Modificar `home` para recibir el par√°metro `cat_id` y filtrar los proyectos por categor√≠a.
Enlace desde plantilla:

```django
href="{% url 'home' categoria.id %}"
```

URL:

```python
path('<int:cat_id>/', views.HomeView.as_view(), name='home'),
```

---

## Desplegable de categor√≠as (Inclusion Tags)

Estructura:

```
portfolioapp/
‚îî‚îÄ‚îÄ templatetags/
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îî‚îÄ‚îÄ categorias_dropdown.py
```

Contenido de `categorias_dropdown.py`:

```python
from django import template
from ..models import Categoria

register = template.Library()

@register.inclusion_tag('portfolio/categorias_dropdown.html')
def categorias_dropdown():
    categorias = Categoria.objects.all()
    return {'categorias': categorias}
```


## Navegaci√≥n

Completamos los `href` del men√∫ de navegaci√≥n en `header.html`:

```django
<a href="{% url 'home' %}">Inicio</a>
<a href="{% url 'proyecto' pk=1 %}">Proyecto</a>
<a href="{% url 'contacto' %}">Contacto</a>
```


--></div></template>


